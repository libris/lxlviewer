@top Query { term* }

@skip { space }

term {
  Qualifier |
  String |
  CompareOperator |
  Group { "(" term* ")" }
}

Qualifier {
 "[[" Identifier EqualOperator (Identifier | String | Number)? Prefix* "]]"
}

@tokens {
  Identifier { ($[a-zA-ZåäöÅÄÖ])+ }

  String { '"' (!["\\] | "\\" _)* '"' }

  Number { @digit+ }

  EqualOperator { ":" | "=" }

  CompareOperator { ">" | "<" | ">=" | "<=" }

  Prefix { "*" }

  space { @whitespace+ }

  "(" ")"

  "[[" "]]"
}

@detectDelim
