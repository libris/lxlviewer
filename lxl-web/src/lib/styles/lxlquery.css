.lxl-qualifier {
	position: relative;
	height: calc(var(--spacing) * 7.5);
	color: var(--text-body);
	background-color: var(--color-accent-50);
	outline: 1px solid var(--color-accent-200);
	outline-offset: -1px;
	border-radius: var(--radius-md);
	transition: background-color 0.1s ease;
	z-index: 1;
	font-size: var(--text-xs);
}

.lxl-qualifier-key {
	padding-left: calc(var(--spacing) * 1.5);
}

.lxl-qualifier-operator {
	position: relative;
}

.lxl-qualifier-value:not(:has(~ .lxl-ghost-group)) {
	/* make up for missing ghost group width */
	padding-right: calc(var(--spacing) * 1.5);
	padding-left: calc(var(--spacing) * 1.5);
}

.lxl-ghost-group ~ .lxl-not-term > .lxl-qualifier-value {
	padding: 0;
}

.lxl-qualifier-remove {
	display: flex;
	align-items: center;
	height: 100%;
	padding-right: calc(var(--spacing) * 1.5);
	padding-left: calc(var(--spacing) * 1.5);
	color: var(--color-subtle);
	background-color: inherit;
	transition: background-color 0.1s ease;
	border-top-right-radius: var(--radius-md);
	border-bottom-right-radius: var(--radius-md);
}

.lxl-qualifier-remove:hover {
	background-color: var(--color-accent-100);
}

.atomic {
	display: inline-flex;
	align-items: center;
	height: 100%;
	user-select: none;
}

.atomic .lxl-qualifier-key {
	font-weight: var(--font-weight-medium);
	white-space: nowrap;
}

.atomic .lxl-qualifier-value,
.atomic .lxl-qualifier-alias {
	color: var(--color-link);
	font-weight: var(--font-weight-medium);
	padding-left: calc(var(--spacing) * 1.5);
	padding-right: calc(var(--spacing) * 1.5);
	white-space: nowrap;
}

.atomic .lxl-qualifier-operator {
	padding-right: calc(var(--spacing) * 1.5);
}

.atomic .lxl-qualifier-operator::after {
	content: '';
	position: absolute;
	top: 0px;
	right: 0;
	height: calc(var(--spacing) * 7.5);
	width: 1px;
	background-color: var(--color-accent-200);
	z-index: -1;
}

.lxl-invalid,
.lxl-invalid .lxl-qualifier {
	text-decoration-line: underline;
	text-decoration-thickness: 1px;
	text-decoration-style: wavy;
	text-decoration-color: var(--color-severe);
	text-underline-offset: 2px;
}

.lxl-not-term {
	color: var(--color-severe-600);
}

.lxl-not-term .lxl-qualifier {
	background-color: var(--color-severe-50);
	border: 1px solid var(--color-severe-200);
	color: var(--color-body);
}

.lxl-not-term .lxl-qualifier-remove:hover {
	background-color: var(--color-severe-100);
}

.lxl-not-term .atomic .lxl-qualifier-operator::after {
	background-color: var(--color-severe-200);
}

.lxl-not-term .atomic .lxl-qualifier-value,
.lxl-not-term .atomic .lxl-qualifier-alias {
	color: var(--color-body);
}

.lxl-boolean-operator {
	color: var(--color-body);
}

.lxl-ghost-group {
	display: inline-block;
	width: 6px;
	height: 10px;
	background-color: transparent;
}

/* hide key and operator for linked values in supersearch */
.codemirror-container .atomic .lxl-qualifier-key:has(~ .lxl-qualifier-value),
.codemirror-container .atomic .lxl-qualifier-operator:has(~ .lxl-qualifier-value) {
	display: none;
}
