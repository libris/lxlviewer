@import 'tailwindcss';
@import './colors.css' layer(base);

@config '../tailwind.config.js';

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
	*,
	::after,
	::before,
	::backdrop,
	::file-selector-button {
		border-color: var(--color-gray-200, currentcolor);
	}
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
	*,
	::after,
	::before,
	::backdrop,
	::file-selector-button {
		border-color: var(--color-gray-200, currentcolor);
	}
}

@layer base {
	/* Variable font */
	@supports (font-variation-settings: normal) {
		@font-face {
			font-family: 'Roboto Flex';
			src: url('/fonts/RobotoFlex-VariableReduced.woff2') format('woff2');
			font-stretch: 60% 100%;
			font-weight: 400 800;
			font-display: auto;
		}
	}

	/* Static fallback */
	@supports not (font-variation-settings: normal) {
		@font-face {
			font-family: 'Roboto Flex';
			src: url('/fonts/RobotoFlex-Regular.ttf') format('truetype');
			font-style: normal;
			font-display: auto;
		}
	}

	/* Base styles for elements */
	html,
	dialog {
		@apply bg-main text-primary font-sans text-base antialiased;
	}

	html {
		scrollbar-gutter: stable;
	}

	a {
		@apply text-link hover:text-hover underline;
	}

	input {
		@apply shadow-input text-3-regular rounded-md px-4 py-2 text-ellipsis;
	}

	select {
		@apply text-primary text-3-cond-bold bg-transparent;
	}

	summary {
		@apply list-none;
	}

	summary::-webkit-details-marker {
		display: none;
	}

	/* Utility classes */

	.container-fluid {
		@apply mx-auto px-4 sm:px-8;
	}

	a.ext-link::after {
		content: '\2009â†—';
		@apply text-icon align-[10%];
	}

	/* primary btn */
	.button-primary {
		@apply text-primary-inv shadow-btn-primary text-3-cond-bold gradient-primary relative z-1 flex h-10 items-center justify-center gap-2 rounded-md px-4 py-2 no-underline;
		@apply hover:text-primary-inv hover:outline-accent-dark/8 hover:outline hover:outline-4;

		/* enable transition to background gradient */
		@apply before:shadow-btn-primary before:gradient-secondary before:absolute before:top-0 before:left-0 before:-z-1 before:h-full before:w-full before:rounded-[inherit] before:opacity-0 before:transition-opacity before:content-[''];
		@apply hover:before:opacity-100 focus:before:opacity-100;
	}

	.button-primary:disabled,
	.button-primary.disabled {
		@apply bg-pill/8 text-primary/40 pointer-events-none shadow-none hover:outline-hidden hover:before:hidden;
		background-image: none;

		& svg {
			@apply text-primary/16;
		}
	}

	/* ghost btn */
	.button-ghost {
		@apply border-primary/16 text-secondary text-3-cond-bold flex h-10 items-center justify-center gap-2 rounded-md border-2 px-4 py-2 whitespace-nowrap no-underline transition-colors;

		@apply hover:border-accent-dark/32 hover:bg-positive/32 hover:text-positive hover:outline-accent-dark/8 focus:border-accent-dark/32 focus:bg-positive/32 focus:text-positive hover:outline hover:outline-4;

		&:not(:hover):not(:focus) svg {
			@apply text-primary/40;
		}
	}

	.button-ghost:disabled,
	.button-ghost.disabled {
		@apply border-primary/8 text-primary/40 hover:border-primary/8 pointer-events-none hover:outline-hidden;

		& svg {
			@apply text-primary/16;
		}
	}

	.button-ghost.active {
		@apply border-accent-dark/32 bg-positive/32 text-positive;

		& svg {
			@apply text-positive!;
		}
	}

	/* negative btn */
	.button-negative {
		@apply hover:bg-negative hover:text-secondary focus:bg-negative focus:text-secondary;
	}
}
